///////////////////////////////////////////////////////////////////////////////
// 
// first.js
// --------
// my first javascript video game
// 
// 
// 
/*****************************************************************************/
"use strict";

// INCLUDES ///////////////////////////////////////////////////////////////////


// GLOBALS ////////////////////////////////////////////////////////////////////
var game = {
  canvas: undefined,
  canvasContext: undefined,
  rectPos: 0
};


// FUNCTIONS //////////////////////////////////////////////////////////////////

game.clearCanvas = function() {
  game.canvasContext.clearRect(0,0, game.canvas.width,game.canvas.height);
}

///////////////////////////////////////////////////////////////////////////////

game.start = function() {
  game.canvas = document.getElementById("myCanvas");
  game.canvasContext = game.canvas.getContext("2d");
  game.main();
}


///////////////////////////////////////////////////////////////////////////////

game.end = function() {
}


///////////////////////////////////////////////////////////////////////////////

game.update = function() {
  var d = new Date();
  game.rectPos = d.getTime() % game.canvas.width;
}


///////////////////////////////////////////////////////////////////////////////

game.draw = function() {
  game.canvasContext.fillStyle = "blue";

  // x,y, w,h
  game.canvasContext.fillRect(game.rectPos,100, 50,50);
}


///////////////////////////////////////////////////////////////////////////////

game.main = function() {
  game.update();
  game.clearCanvas();
  game.draw();
  window.setTimeout(game.main, 1000/60);
}


// START PROGRAM //////////////////////////////////////////////////////////////
document.addEventListener('DOMContentLoaded', game.start);