# Окно браузера: свойства и методы

Объект `window` выполняет две функции (или играет две роли):
<ol>
<li>Является глобальным объектом Javascript.</li>
<li>Предоставляет интерфейс для работы с окном браузера.</li>
</ol>

О глобальном объекте мы говорили в главе [](/closures). А здесь --  обратим внимание на то, что касается браузера.

[cut]

## События

Наиболее важные события при работе с окном браузера:
<ul>
<li>`onresize` -- событие изменения размера окна.</li>
<li>`onscroll` -- событие при прокрутке окна.</li>
<li>`onload` -- полностью загрузилась страница со всеми ресурсами.</li>
</ul>

## Методы и свойства

<dl>
<dt>`window.closed`
<dd>Свойство `window.closed` равно `true`, если окно закрыто. Может быть использовано, чтобы проверить, закрыл ли посетитель попап.</dd>
<dt>`window.close()`</dt>
<dd>Закрывает попап без предупреждений и уведомлений. Вообще, метод `close()` можно вызвать для любого окна, в том числе, текущего. Но если окно открыто не с помощью `window.open()`, то браузер может проигнорировать вызов `close` или запросить подтверждение.

Нажмите кнопку ниже, для закрытия текущего окна.

<input type="button" onclick="window.close()" value="window.close()">

Попытайтесь это сделать в разных браузерах. На момент написания статьи, Firefox, Opera и Safari проигнорируют вызов `close()`, а IE запросит подтверждение.
</dd>
<dt>`window.title`</dt>
<dd>Заголовок окна соостветствует содержимому элемента `TITLE` в `HEAD`.

**Забавно, но для *изменения* заголовка нужно использовать не это свойство, а  `document.title`.**

Код, расположенный ниже, каждую секунду обновляет заголовок окна на текущее время:

```js
//+ run
setInterval(function() {
  document.title = new Date();
}, 1000);
```

</dd>
</dl>

## Перемещение и изменение размеров окна

Существует несколько методов для перемещения/изменения размеров окна.

<dl>
<dt>`win.moveBy(x,y)`</dt>
<dd>Перемещает окно относительно текущего положения на `x` пикселей вправо и `y` пикселей вниз. Допускаются отрицательные значения.</dd>
<dt>`win.moveTo(x,y)`</dt>
<dd>Передвигает окно в заданную координатами `x` и `y` точку экрана монитора.</dd>
<dt>`win.resizeBy(width,height)`</dt>
<dd>Изменяет размер окна на заданную величину `width/height` (ширина/высота). Допускаются отрицательные значения.</dd>
<dt>`win.resizeTo(width,height)`</dt>
<dd>Изменяет размер окна на заданное значение.</dd>
</dl>

Чтобы предотвратить использование этих методов с плохими целями, браузеры часто блокируют их выполнение. Как правило, они работают, если окно `win` открыто вызовом [window.open](https://developer.mozilla.org/en-US/docs/Web/API/window.open) из JavaScript текущей страницы и в нём нет дополнительных вкладок.

**JavaScript не может свернуть или максимизировать окно.**

Эти функции операционной системы от Frontend-разработчиков скрыты. Вызовы, описанные выше, в случае свёрнутого или максимизированного окна не работают.

## Прокрутка окна

Прокрутка окна требуется, пожалуй, чаще всего. Мы уже говорили о ней в главе [](/metrics-window):

<dl>
<dt>`win.scrollBy(x,y)`
Прокрутка окна на заданное число пикселей вперед или назад. Допускаются отрицательные значения.</dt>
<dt>`win.scrollTo(x,y)`</dt>
<dd>Прокручивает окно к заданным координатам.</dd>
<dt>`elem.scrollIntoView(top)`</dt>
<dd>Этот метод прокрутки вызывается на элементе. При этом окно прокручивается так, чтобы элемент был полностью видим.

Если параметр `top` равен `true` или не задан, то верх элемента совпадает с верхом окна. Если он равен `false`, то окно прокручивается так, чтобы нижний край элемента совпал с нижним краем окна.
</dd>
</dl>

## Итого

Что можно сделать с окном браузера:

<ul>
<li>Открыть новое -- вызовом `open()`</li>
<li>Проверить, закрыто ли всплывающее окно -- свойство `window.closed`</li>
<li>Закрыть окно -- метод `window.close()`. Если окно открыто не через `open()`, то не сработает в Firefox, Opera и Safari).</li>
<li>Поставить свой заголовок в `document.title`.</li>
</ul>

Управление размером, положением, прокруткой окна:

<ul>
<li>Переместить вправо-вниз -- `win.moveBy(x,y)`.</li>
<li>Переместить в координату на экране монитора -- `win.moveTo(x,y)`.</li>
<li>Изменить размер на данную величину -- `win.resizeBy(width, height)`.</li>
<li>Выставить точный размер окна -- `win.resizeTo(width,height)`</li>
<li>Прокрутить документ в окне на данную величину -- `win.scrollBy(x,y)`.</li>
<li>Прокрутить документ в окне до точных координат (относительно документа) -- `win.scrollTo(x,y)`.</li>
<li>Дополнительно для прокрутки можно использовать
`elem.scrollIntoView(top)`, где top может быть true/false — прокрутка elem до совпадения нижней/верхней границы elem с нижней/верхней границей документа, так, чтобы elem был полностью видим. По умолчанию `true`.</li>
</ul>

<p style="text-align:right">Спасибо Марату Шагиеву за помощь в выкладке русскоязычного варианта этой главы.</p> 