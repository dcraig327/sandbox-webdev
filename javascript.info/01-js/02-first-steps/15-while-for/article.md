# Циклы while, for

При написании скриптов зачастую встает задача сделать однотипное действие много раз.

Например, вывести товары из списка один за другим. Или просто перебрать все числа от 1 до 10 и для каждого выполнить одинаковый код. 

Для многократного повторения одного участка кода - предусмотрены *циклы*.
[cut]
## Цикл while

Цикл `while` имеет вид:

```js
while (условие) {
  // код, тело цикла
}
```

Пока `условие` верно -- выполняется код из тела цикла.

Например, цикл ниже выводит `i` пока `i < 3`:

```js
//+ run
var i = 0;
while (i < 3) {
  alert(i);
  i++;
}
```

**Повторение цикла по-научному называется *"итерация"*. Цикл в примере выше совершает три итерации.**

Если бы `i++` в коде выше не было, то цикл выполнялся бы (в теории) вечно. На практике, браузер выведет сообщение о "зависшем" скрипте и посетитель его остановит.

**Бесконечный цикл** можно сделать и проще:

```js
while (true) {
  // ...
}
```

**Условие в скобках интерпретируется как логическое значение, поэтому вместо `while (i!=0)` обычно пишут `while (i)`**:

```js
//+ run
var i = 3;
*!*
while (i) { // при i=0 значение в скобках будет false и цикл остановится
*/!*
  alert(i);
  i--;
}
```

## Цикл do..while 

Проверку условия можно поставить *под* телом цикла, используя специальный синтаксис `do..while`:

```js
do {
  // тело цикла
} while (условие);
```

Цикл, описанный, таким образом, сначала выполняет тело, а затем проверяет условие.

Например:

```js
//+ run
var i = 0;
do {
  alert(i);
  i++;
} while (i < 3);
```

Синтаксис `do..while` редко используется, т.к. обычный `while` нагляднее -- в нём не приходится искать глазами условие и ломать голову, почему оно проверяется именно в конце.


## Цикл for 

Чаще всего применяется цикл `for`. Выглядит он так:

```js
for (начало; условие; шаг) {
 // ... тело цикла ...
}
```

Пример цикла, который выполняет `alert(i)` для `i` от `0` до `2` включительно (до `3`):

```js
//+ run
var i;

for (i=0; i<3; i++) {
  alert(i);
}
```

Здесь:
<ul>
<li>**Начало:** `i=0`.</li>
<li>**Условие:** `i<3`.</li>
<li>**Шаг:** `i++`.</li>
<li>**Тело:** `alert(i)`, т.е. код внутри фигурных скобок (они не обязательны, если только одна операция)</li>
</ul>

Цикл выполняется так:

<ol>
<li>Начало: `i=0` выполняется один-единственный раз, при заходе в цикл.</li>
<li>Условие: `i<3` проверяется перед каждой итерацией и при входе в цикл, если оно нарушено, то происходит выход.</li>
<li>Тело: `alert(i)`.</li>
<li>Шаг: `i++` выполняется после *тела* на каждой итерации, но перед проверкой условия.</li>
<li>Идти на шаг 2.</li>
</ol>

Иными, словами, поток выполнения: `начало` -> (если `условие` -> `тело` -> `шаг`) -> (если `условие` -> `тело` -> `шаг`) -> ... и так далее, пока верно `условие`.

[smart]
В цикле также можно определить переменную:

```js
//+ run
for (*!*var*/!* i=0; i<3; i++) {
  alert(i); // 0, 1, 2
}
```

Эта переменная будет видна и за границами цикла, в частности, после окончания цикла `i` станет равно `3`.
[/smart]

## Пропуск частей for

**Любая часть `for` может быть пропущена.**

Например, можно убрать `начало`. Цикл в примере ниже полностью идентичен приведённому выше:

```js
//+ run
var i = 0;

for (; i<3; i++) {
  alert(i);  // 0, 1, 2
}
```

Можно убрать и `шаг`:

```js
//+ run
var i = 0;

for (; i<3;) {
 alert(i);
 // цикл превратился в аналог while (i<3)
}
```

А можно и вообще убрать все, получив бесконечный цикл:

```js
for (;;) { 
  // будет выполняться вечно 
}
```

При этом сами точки с запятой `;` обязательно должны присутствовать, иначе будет ошибка синтаксиса.

[smart header="`for..in`"]
Существует также специальная конструкция `for..in` для перебора свойств объекта. 

Мы познакомимся с ней позже, когда будем [говорить об объектах](#for..in).
[/smart]

