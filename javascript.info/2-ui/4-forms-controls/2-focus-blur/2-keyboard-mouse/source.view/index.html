<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <style>
  #mousie:focus {
    outline: none;
    border: 1px dashed black;
  }
  html, body {
    margin: 0;
    height: 100%;
  }
  </style>
</head>
<body>

Кликните на мышонка и передвигайте его, нажимая клавиши со стрелками.

<div style="width:41px;height:48px;background:url(http://js.cx/clipart/mousie.gif)"></div>



<script>

/* ваш код */


// -----------------------


function getCoords(elem) {
    var box = elem.getBoundingClientRect();

    var body = document.body;
    var docElem = document.documentElement;

    var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;
    var scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;

    var clientTop = docElem.clientTop || body.clientTop || 0;
    var clientLeft = docElem.clientLeft || body.clientLeft || 0;

    var top  = box.top +  scrollTop - clientTop;
    var left = box.left + scrollLeft - clientLeft;

    return { top: Math.round(top), left: Math.round(left) };
}

</script>


</body>
</html>
