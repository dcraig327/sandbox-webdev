Решения через рекурсию.

<ol>
<li>[edit src="solution"]Через innerHTML[/edit].</li>
<li>[edit src="build-tree-dom"]Через DOM[/edit].</li>
</ol>