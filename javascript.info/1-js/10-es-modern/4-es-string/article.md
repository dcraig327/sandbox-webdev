
# Строки и регэкспы

Есть ряд улучшений и новых методов для строк и регулярных выражений.

Начнём с, пожалуй, самого важного.

## Строки-шаблоны

Добавлен новый вид кавычек для строк: 
```js
let str = `обратные кавычки`;
```

Основные отличия от `"…"` и `'…'`:

<ul>
<li>**В них разрешён перевод строки.**

Например:
```js
//+ run
alert(`моя
  многострочная
  строка`);
```
Заметим, что пробелы и, собственно, перевод строки также входят в строку, и будут выведены.
</li>
<li>**Можно вставлять выражения при помощи `${…}`.**

Например:
```js
//+ run
'use strict';
let apples = 2;
let oranges = 3;

alert(`${apples} + ${oranges} = ${apples + oranges}`); // 2 + 3 = 5
```

Как видно, можно вставлять как и значение переменной, так и более сложные выражения, вызовы функций и т.п. Это называют "интерполяцией".
</li>
<li>**Можно использовать свою функцию шаблонизации для строк.**

Перед первой обратной кавычкой может стоять имя функции, которая запустится с этой строкой:
```js
let str = f`...`;
```

Эти два кода делают одно и то же:

```js
//+ run
alert( eval`1 + 2 - 3` );
alert( eval("1 + 2 - 3") );
```

Пример использования:


...Однако, при первой






</li>
</ul>  




Основные улучшения для строк -- улучшенная поддержка юникода. Кроме того, добавлены некоторые новые методы.

## Улучшена поддержка юникода

[smart header="А ваши сайты читают китайцы?"]
Это улучшение имеет значение только если мы поддерживаем китайский и другие языки, которые выходят за границы стандартного 2-байтового диапазона.
[/smart]

Внутренняя кодировка строк в JavaScript -- это UTF-16, то есть под каждый символ отводится ровно два байта.

Под всевозможные символы всех языков мира двух байт не хватает.

Поэтому, к примеру, китайские иероглифы представляются двумя юникодными символами, например:

```js
//+ run
alert( "我".length ); // 2
```

Такое представление, когда одному символу языка соответствует два юникодных символа, называют "суррогатные пары".

Ю