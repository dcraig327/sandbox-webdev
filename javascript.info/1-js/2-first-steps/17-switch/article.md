# Конструкция switch

Конструкция `switch` заменяет собой сразу несколько `if`.

Это -- более наглядный способ сравнить выражение сразу с несколькими вариантами.
[cut]
## Синтаксис

Выглядит она так:

```js
switch(x) {
  case 'value1':  // if (x === 'value1')
    ...
    [break]

  case 'value2':  // if (x === 'value2')
    ...
    [break]

  default:
    ...
    [break]
}
```

<ul>
<li>
Переменная `x` проверяется на строгое равенство первому значению `value1`, затем второму `value2` и так далее. 
</li>
<li>
Если соответствие установлено -- switch начинает выполняться от соответствующей директивы `case` и далее, *до ближайшего `break`* (или до конца `switch`).
</li>
<li>
Если ни один `case` не совпал -- выполняетcя (если есть) вариант `default`.
</li>
</ul>

При этом `case` называют *вариантами `switch`*. 

## Пример работы   

Пример использования `switch` (сработавший код выделен):

```js
//+ run
var a = 2+2;

switch (a) {
  case 3:
    alert('Маловато');
    break;
*!*
  case 4:
    alert('В точку!');
    break;
*/!*
  case 5:
    alert('Перебор');
    break;
  default:
    alert('Я таких значений не знаю');
}
```

Будет выведено только одно значение, соответствующее `4`. После чего `break` прервёт выполнение.

**Если его не прервать -- оно пойдёт далее, при этом остальные проверки игнорируются.**

Например:

```js
//+ run
var a = 2+2;

switch (a) {
  case 3:
    alert('Маловато');
*!*
  case 4:
    alert('В точку!');
  case 5:
    alert('Перебор');
  default:
    alert('Я таких значений не знаю');
*/!*
}
```

В примере выше  последовательно выполнятся три `alert`.

```js
alert('В точку!');
alert('Перебор');
alert('Я таких значений не знаю');
```

**В `case` могут быть любые выражения**, в том числе включающие в себя переменные и функции.

Например:

```js
//+ run
var a = 1;
var b = 0;

switch(a) {
*!*
  case b+1:
    alert(1);
    break;
*/!*

  default:
    alert('нет-нет, выполнится вариант выше')
}
```

## Группировка case

Несколько значений case можно группировать.

В примере ниже `case 3` и `case 5`  выполняют один и тот же код:

```js
//+ run
var a = 2+2;

switch (a) {
  case 4:
    alert('Верно!');
    break;

*!*
  case 3:                    // (*)
  case 5:                    // (**)
    alert('Неверно!');
    alert('Немного ошиблись, бывает.');
    break;
*/!*

  default:
    alert('Странный результат, очень странный');
}
```

При `case 3` выполнение идёт со строки `(*)`, при `case 5` -- со строки `(**)`.

## Тип имеет значение   

Следующий пример принимает значение от посетителя.

```js
//+ run
var arg = prompt("Введите arg?")
switch(arg) {
  case '0':
  case '1':
    alert('Один или ноль');

  case '2':
    alert('Два');
    break;

  case 3:
    alert('Никогда не выполнится');

  case null: 
    alert('Отмена');
    break;

  default:
    alert('Неизвестное значение: ' + arg)
}
```

Что оно выведет при вводе чисел 0, 1, 2, 3? Подумайте и *потом* читайте дальше...

<ul>
<li>При вводе `0` или `1` выполнится первый `alert`, далее выполнение продолжится вниз до первого `break` и выведет второй `alert('Два')`.</li>
<li>При вводе `2`, `switch` перейдет к `case '2'` и выведет `Два`.</li>
<li>**При вводе `3`, `switch` перейдет на `default`.** Это потому, что `prompt` возвращает строку `'3'`, а не число. Типы разные. `Switch` использует строгое равенство `===`, так что совпадения не будет.</li>
<li>При отмене сработает `case null`.</li>
</ul>

